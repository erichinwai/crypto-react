{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hin Wai\\\\my-app\\\\src\\\\components\\\\crypto_list.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction daysBetween(from, to) {\n  const timeDifference = to.getTime() - from.getTime();\n  return timeDifference / (1000 * 3600 * 24);\n}\n\nfunction transformCryptos(cryptos) {\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.market_cap, 0);\n  return cryptos.map(crypto => ({\n    ath_date: crypto.ath_date,\n    current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\n    days_since_ath: Math.floor(daysBetween(new Date(crypto.ath_date), new Date())),\n    high_24h: crypto.high_24h || 0,\n    image: crypto.image,\n    image_symbol: {\n      image: crypto.image,\n      symbol: crypto.symbol.toUpperCase()\n    },\n    low_24h: crypto.low_24h || 0,\n    market_cap: crypto.market_cap,\n    market_cap_percentage: `${(crypto.market_cap / totalMarketCap * 100).toFixed(2)}%`,\n    market_cap_rank: crypto.market_cap_rank,\n    name: crypto.name,\n    price_change_24h: crypto.price_change_24h || 0,\n    price_change_percentage_24h: `${(crypto.price_change_percentage_24h || 0).toFixed(2)}%`,\n    symbol: crypto.symbol.toUpperCase(),\n    total_volume: crypto.total_volume || 0\n  }));\n}\n\nconst useStyles = makeStyles(theme => ({\n  green: {\n    color: theme.color.green\n  },\n  red: {\n    color: theme.color.red\n  }\n}));\n\nconst CryptoList = () => {\n  _s();\n\n  const [cryptos, setCryptos] = useState([]);\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\n  const [searchTerm, setSearchTerm] = useState('');\n  const classes = useStyles();\n  const columns = useMemo(() => [{\n    Header: 'Currency',\n    accessor: 'Currency'\n  }, {\n    Header: 'Date',\n    accessor: 'Date'\n  }, {\n    Header: 'Open',\n    accessor: 'Open'\n  }, {\n    Header: 'High',\n    accessor: 'High'\n  }, {\n    Header: 'Low',\n    accessor: 'Low'\n  }, {\n    Header: 'Close',\n    accessor: 'Close'\n  }, {\n    Header: 'Volume',\n    accessor: 'Volume'\n  }, {\n    Header: 'Market_Cap',\n    accessor: 'Market_Cap'\n  }]);\n\n  const fetchCryptos = async () => {\n    const response = await axios.get('http://localhost:5000/crypto/').then(response => {\n      this.setState({\n        cryptos: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    setCryptos(transformCryptos(response));\n  };\n\n  useEffect(() => {\n    fetchCryptos();\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\n  }, [lastFetchDate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Crypto Currency Historial\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"thead-light\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Currency\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Volume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Market Cap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 7\n  }, this);\n};\n\n_s(CryptoList, \"UdgTqtcvut1iO7E+Z35zTmDAJe4=\", false, function () {\n  return [useStyles];\n});\n\n_c = CryptoList;\nexport default CryptoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CryptoList\");","map":{"version":3,"sources":["C:/Users/Hin Wai/my-app/src/components/crypto_list.component.js"],"names":["React","Component","axios","makeStyles","daysBetween","from","to","timeDifference","getTime","transformCryptos","cryptos","totalMarketCap","reduce","total","crypto","market_cap","map","ath_date","current_price","parseFloat","toFixed","days_since_ath","Math","floor","Date","high_24h","image","image_symbol","symbol","toUpperCase","low_24h","market_cap_percentage","market_cap_rank","name","price_change_24h","price_change_percentage_24h","total_volume","useStyles","theme","green","color","red","CryptoList","setCryptos","useState","lastFetchDate","setLastFetchDate","searchTerm","setSearchTerm","classes","columns","useMemo","Header","accessor","fetchCryptos","response","get","then","setState","data","console","log","catch","error","useEffect","setTimeout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction daysBetween(from, to) {\r\n  const timeDifference = to.getTime() - from.getTime();\r\n  return timeDifference / (1000 * 3600 * 24);\r\n}\r\nfunction transformCryptos(cryptos) {\r\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.market_cap, 0);\r\n  return cryptos.map(crypto => ({\r\n    ath_date: crypto.ath_date,\r\n    current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\r\n    days_since_ath: Math.floor(daysBetween(new Date(crypto.ath_date), new Date())),\r\n    high_24h: crypto.high_24h || 0,\r\n    image: crypto.image,\r\n    image_symbol: {\r\n      image: crypto.image,\r\n      symbol: crypto.symbol.toUpperCase(),\r\n    },\r\n    low_24h: crypto.low_24h || 0,\r\n    market_cap: crypto.market_cap,\r\n    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\r\n    market_cap_rank: crypto.market_cap_rank,\r\n    name: crypto.name,\r\n    price_change_24h: crypto.price_change_24h || 0,\r\n    price_change_percentage_24h: `${(crypto.price_change_percentage_24h || 0).toFixed(2)}%`,\r\n    symbol: crypto.symbol.toUpperCase(),\r\n    total_volume: crypto.total_volume || 0,\r\n  }));\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  green: {\r\n    color: theme.color.green,\r\n  },\r\n  red: {\r\n    color: theme.color.red,\r\n  },\r\n}));\r\n\r\nconst CryptoList =()=>{\r\n  const [cryptos, setCryptos] = useState([]);\r\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const classes = useStyles();\r\n  \r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header:'Currency',\r\n        accessor: 'Currency', \r\n        \r\n    },{\r\n        Header:'Date',\r\n        accessor: 'Date'\r\n\r\n    },{\r\n        Header:'Open',\r\n        accessor: 'Open'\r\n\r\n    },{\r\n        Header:'High',\r\n        accessor: 'High'\r\n\r\n    },{\r\n        Header:'Low',\r\n        accessor: 'Low'\r\n\r\n    },{\r\n        Header:'Close',\r\n        accessor: 'Close'\r\n\r\n    },{\r\n        Header:'Volume',\r\n        accessor: 'Volume'\r\n\r\n    },{\r\n        Header:'Market_Cap',\r\n        accessor: 'Market_Cap',\r\n        \r\n    },\r\n    ],\r\n  );\r\n\r\n  \r\n  const fetchCryptos = async () => {\r\n    const response = await axios.get('http://localhost:5000/crypto/')\r\n      .then(response =>{\r\n          this.setState({ cryptos: response.data})\r\n          console.log(response.data)\r\n      })\r\n      .catch((error)=>{\r\n          console.log(error);\r\n      });\r\n    \r\n    setCryptos(transformCryptos(response));\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchCryptos();\r\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\r\n  }, [lastFetchDate])\r\n\r\n\r\n  return(\r\n      <div>\r\n          <h2>Crypto Currency Historial</h2>\r\n          <table className=\"table\">\r\n              <thead className=\"thead-light\">\r\n                  <tr>\r\n                      <th>Currency</th>\r\n                      <th>Date</th>\r\n                      <th>Open</th>\r\n                      <th>High</th>\r\n                      <th>Low</th>\r\n                      <th>Volume</th>\r\n                      <th>Market Cap</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  \r\n              </tbody>\r\n          </table>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default CryptoList;"]},"metadata":{},"sourceType":"module"}