{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Hin Wai\\\\my-app\\\\src\\\\components\\\\crypto_list.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Cryptotable from './cryptotable';\n\nfunction daysBetween(from, to) {\n  const timeDifference = to.getTime() - from.getTime();\n  return timeDifference / (1000 * 3600 * 24);\n}\n\nfunction transformCryptos(cryptos) {\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.market_cap, 0);\n  return cryptos.map(crypto => ({\n    ath_date: crypto.ath_date,\n    current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\n    days_since_ath: Math.floor(daysBetween(new Date(crypto.ath_date), new Date())),\n    high_24h: crypto.high_24h || 0,\n    image: crypto.image,\n    image_symbol: {\n      image: crypto.image,\n      symbol: crypto.symbol.toUpperCase()\n    },\n    low_24h: crypto.low_24h || 0,\n    market_cap: crypto.market_cap,\n    market_cap_percentage: `${(crypto.market_cap / totalMarketCap * 100).toFixed(2)}%`,\n    market_cap_rank: crypto.market_cap_rank,\n    name: crypto.name,\n    price_change_24h: crypto.price_change_24h || 0,\n    price_change_percentage_24h: `${(crypto.price_change_percentage_24h || 0).toFixed(2)}%`,\n    symbol: crypto.symbol.toUpperCase(),\n    total_volume: crypto.total_volume || 0\n  }));\n}\n\nexport default class CryptoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cryptos: [],\n      setCryptos: [],\n      lastFetchDate: new Date(),\n      setLastFetchDate: new Date(),\n      searchTerm: '',\n      setSearchTerm: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/crypto/').then(response => {\n      this.setState({\n        cryptos: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  cryptoList() {\n    console.log(this.state.cryptos);\n    return this.state.cryptos.map(currentcrypto => {\n      return /*#__PURE__*/_jsxDEV(Cryptotable, {\n        crypto: currentcrypto\n      }, currentcrypto._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Crypto Currency Historial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"thead-light\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Currency\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Open\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"High\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Low\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Volume\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Market Cap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.cryptoList()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Hin Wai/my-app/src/components/crypto_list.component.js"],"names":["React","Component","axios","Cryptotable","daysBetween","from","to","timeDifference","getTime","transformCryptos","cryptos","totalMarketCap","reduce","total","crypto","market_cap","map","ath_date","current_price","parseFloat","toFixed","days_since_ath","Math","floor","Date","high_24h","image","image_symbol","symbol","toUpperCase","low_24h","market_cap_percentage","market_cap_rank","name","price_change_24h","price_change_percentage_24h","total_volume","CryptoList","constructor","props","state","setCryptos","lastFetchDate","setLastFetchDate","searchTerm","setSearchTerm","componentDidMount","get","then","response","setState","data","console","log","catch","error","cryptoList","currentcrypto","_id","render"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,EAA3B,EAA+B;AAC7B,QAAMC,cAAc,GAAGD,EAAE,CAACE,OAAH,KAAeH,IAAI,CAACG,OAAL,EAAtC;AACA,SAAOD,cAAc,IAAI,OAAO,IAAP,GAAc,EAAlB,CAArB;AACD;;AACD,SAASE,gBAAT,CAA0BC,OAA1B,EAAmC;AACjC,QAAMC,cAAc,GAAGD,OAAO,CAACE,MAAR,CAAe,CAACC,KAAD,EAAQC,MAAR,KAAmBD,KAAK,GAAGC,MAAM,CAACC,UAAjD,EAA6D,CAA7D,CAAvB;AACA,SAAOL,OAAO,CAACM,GAAR,CAAYF,MAAM,KAAK;AAC5BG,IAAAA,QAAQ,EAAEH,MAAM,CAACG,QADW;AAE5BC,IAAAA,aAAa,EAAG,IAAGC,UAAU,CAAC,CAACL,MAAM,CAACI,aAAP,IAAwB,CAAzB,EAA4BE,OAA5B,CAAoC,CAApC,CAAD,CAAyC,EAF1C;AAG5BC,IAAAA,cAAc,EAAEC,IAAI,CAACC,KAAL,CAAWnB,WAAW,CAAC,IAAIoB,IAAJ,CAASV,MAAM,CAACG,QAAhB,CAAD,EAA4B,IAAIO,IAAJ,EAA5B,CAAtB,CAHY;AAI5BC,IAAAA,QAAQ,EAAEX,MAAM,CAACW,QAAP,IAAmB,CAJD;AAK5BC,IAAAA,KAAK,EAAEZ,MAAM,CAACY,KALc;AAM5BC,IAAAA,YAAY,EAAE;AACZD,MAAAA,KAAK,EAAEZ,MAAM,CAACY,KADF;AAEZE,MAAAA,MAAM,EAAEd,MAAM,CAACc,MAAP,CAAcC,WAAd;AAFI,KANc;AAU5BC,IAAAA,OAAO,EAAEhB,MAAM,CAACgB,OAAP,IAAkB,CAVC;AAW5Bf,IAAAA,UAAU,EAAED,MAAM,CAACC,UAXS;AAY5BgB,IAAAA,qBAAqB,EAAG,GAAE,CAAEjB,MAAM,CAACC,UAAP,GAAoBJ,cAArB,GAAuC,GAAxC,EAA6CS,OAA7C,CAAqD,CAArD,CAAwD,GAZtD;AAa5BY,IAAAA,eAAe,EAAElB,MAAM,CAACkB,eAbI;AAc5BC,IAAAA,IAAI,EAAEnB,MAAM,CAACmB,IAde;AAe5BC,IAAAA,gBAAgB,EAAEpB,MAAM,CAACoB,gBAAP,IAA2B,CAfjB;AAgB5BC,IAAAA,2BAA2B,EAAG,GAAE,CAACrB,MAAM,CAACqB,2BAAP,IAAsC,CAAvC,EAA0Cf,OAA1C,CAAkD,CAAlD,CAAqD,GAhBzD;AAiB5BQ,IAAAA,MAAM,EAAEd,MAAM,CAACc,MAAP,CAAcC,WAAd,EAjBoB;AAkB5BO,IAAAA,YAAY,EAAEtB,MAAM,CAACsB,YAAP,IAAuB;AAlBT,GAAL,CAAlB,CAAP;AAoBD;;AACD,eAAe,MAAMC,UAAN,SAAyBpC,SAAzB,CAAkC;AAC/CqC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACX9B,MAAAA,OAAO,EAAE,EADE;AAEX+B,MAAAA,UAAU,EAAC,EAFA;AAGXC,MAAAA,aAAa,EAAC,IAAIlB,IAAJ,EAHH;AAIXmB,MAAAA,gBAAgB,EAAC,IAAInB,IAAJ,EAJN;AAKXoB,MAAAA,UAAU,EAAC,EALA;AAMXC,MAAAA,aAAa,EAAC;AANH,KAAb;AAQD;;AAGDC,EAAAA,iBAAiB,GAAE;AACf5C,IAAAA,KAAK,CAAC6C,GAAN,CAAU,+BAAV,EACCC,IADD,CACMC,QAAQ,IAAG;AACb,WAAKC,QAAL,CAAc;AAAExC,QAAAA,OAAO,EAAEuC,QAAQ,CAACE;AAApB,OAAd;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB;AACH,KAJD,EAKCG,KALD,CAKQC,KAAD,IAAS;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAPD;AAQH;;AAEDC,EAAAA,UAAU,GAAE;AACVJ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAL,CAAW9B,OAAvB;AACA,WAAO,KAAK8B,KAAL,CAAW9B,OAAX,CAAmBM,GAAnB,CAAuByC,aAAa,IAAG;AAC1C,0BAAO,QAAC,WAAD;AAAa,QAAA,MAAM,EAAEA;AAArB,SAAyCA,aAAa,CAACC,GAAvD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFM,CAAP;AAGD;;AAEDC,EAAAA,MAAM,GAAE;AAGN,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,SAAS,EAAC,OAAjB;AAAA,gCACI;AAAO,UAAA,SAAS,EAAC,aAAjB;AAAA,iCACI;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAYI;AAAA,oBACK,KAAKH,UAAL;AADL;AAAA;AAAA;AAAA;AAAA,gBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAqBH;;AAxDgD","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Cryptotable from './cryptotable';\r\n\r\nfunction daysBetween(from, to) {\r\n  const timeDifference = to.getTime() - from.getTime();\r\n  return timeDifference / (1000 * 3600 * 24);\r\n}\r\nfunction transformCryptos(cryptos) {\r\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.market_cap, 0);\r\n  return cryptos.map(crypto => ({\r\n    ath_date: crypto.ath_date,\r\n    current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\r\n    days_since_ath: Math.floor(daysBetween(new Date(crypto.ath_date), new Date())),\r\n    high_24h: crypto.high_24h || 0,\r\n    image: crypto.image,\r\n    image_symbol: {\r\n      image: crypto.image,\r\n      symbol: crypto.symbol.toUpperCase(),\r\n    },\r\n    low_24h: crypto.low_24h || 0,\r\n    market_cap: crypto.market_cap,\r\n    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\r\n    market_cap_rank: crypto.market_cap_rank,\r\n    name: crypto.name,\r\n    price_change_24h: crypto.price_change_24h || 0,\r\n    price_change_percentage_24h: `${(crypto.price_change_percentage_24h || 0).toFixed(2)}%`,\r\n    symbol: crypto.symbol.toUpperCase(),\r\n    total_volume: crypto.total_volume || 0,\r\n  }));\r\n}\r\nexport default class CryptoList extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      cryptos: [], \r\n      setCryptos:[], \r\n      lastFetchDate:new Date(), \r\n      setLastFetchDate:new Date(), \r\n      searchTerm:'', \r\n      setSearchTerm:'', \r\n    };\r\n  }\r\n  \r\n  \r\n  componentDidMount(){\r\n      axios.get('http://localhost:5000/crypto/')\r\n      .then(response =>{\r\n          this.setState({ cryptos: response.data})\r\n          console.log(response.data)\r\n      })\r\n      .catch((error)=>{\r\n          console.log(error);\r\n      })\r\n  }\r\n\r\n  cryptoList(){\r\n    console.log(this.state.cryptos);\r\n    return this.state.cryptos.map(currentcrypto =>{\r\n        return <Cryptotable crypto={currentcrypto} key={currentcrypto._id}/>;\r\n    })\r\n  }\r\n\r\n  render(){\r\n    \r\n\r\n    return(\r\n        <div>\r\n            <h2>Crypto Currency Historial</h2>\r\n            <table className=\"table\">\r\n                <thead className=\"thead-light\">\r\n                    <tr>\r\n                        <th>Currency</th>\r\n                        <th>Date</th>\r\n                        <th>Open</th>\r\n                        <th>High</th>\r\n                        <th>Low</th>\r\n                        <th>Volume</th>\r\n                        <th>Market Cap</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.cryptoList() }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n  )\r\n}\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}