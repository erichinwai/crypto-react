{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hin Wai\\\\my-app\\\\src\\\\components\\\\crypto_list.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CryptoTable1 from './CryptoTable1';\nimport Header from './Header';\n\nfunction daysBetween(from, to) {\n  const timeDifference = to.getTime() - from.getTime();\n  return timeDifference / (1000 * 3600 * 24);\n}\n\nfunction transformCryptos(cryptos) {\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.Market_Cap, 0);\n  return cryptos.map(crypto => ({\n    high: crypto.High || 0,\n    low: crypto.Low || 0,\n    market_cap: crypto.Market_Cap,\n    currency: crypto.Currency,\n    volume: crypto.Volume || 0\n  })); //current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\n  //    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\n  //price_change_percentage_7d: `${(crypto.price_change_percentage_7d || 0).toFixed(2)}%`,\n}\n\nconst useStyles = makeStyles(theme => ({\n  green: {\n    color: theme.color.green\n  },\n  red: {\n    color: theme.color.red\n  }\n}));\n\nconst CryptoList = () => {\n  _s();\n\n  const [cryptos, setCryptos] = useState([]);\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\n  const [searchTerm, setSearchTerm] = useState('');\n  const classes = useStyles();\n  const columns = useMemo(() => [{\n    Header: 'Currency',\n    accessor: 'Currency'\n  }, {\n    Header: 'Date',\n    accessor: 'Date'\n  }, {\n    Header: 'Open',\n    accessor: 'Open'\n  }, {\n    Header: 'High',\n    accessor: 'High'\n  }, {\n    Header: 'Low',\n    accessor: 'Low'\n  }, {\n    Header: 'Close',\n    accessor: 'Close'\n  }, {\n    Header: 'Volume',\n    accessor: 'Volume'\n  }, {\n    Header: 'Market_Cap',\n    accessor: 'Market_Cap'\n  }]);\n\n  const fetchCryptos = async () => {\n    const response = await axios.get('http://localhost:5000/crypto/').then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    setCryptos(transformCryptos(response));\n  };\n\n  useEffect(() => {\n    fetchCryptos();\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\n  }, [lastFetchDate]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      text: \"Crypto Prices Dashboard\",\n      setSearchTerm: setSearchTerm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(CryptoTable1, {\n      columns: columns,\n      data: searchTerm ? cryptos.filter(crypto => crypto.currency.toLowerCase().includes(searchTerm.toLowerCase()) || crypto.symbol.includes(searchTerm.toUpperCase())) : cryptos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CryptoList, \"UdgTqtcvut1iO7E+Z35zTmDAJe4=\", false, function () {\n  return [useStyles];\n});\n\n_c = CryptoList;\nexport default CryptoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CryptoList\");","map":{"version":3,"sources":["C:/Users/Hin Wai/my-app/src/components/crypto_list.component.js"],"names":["React","Fragment","useEffect","useMemo","useState","axios","makeStyles","CryptoTable1","Header","daysBetween","from","to","timeDifference","getTime","transformCryptos","cryptos","totalMarketCap","reduce","total","crypto","Market_Cap","map","high","High","low","Low","market_cap","currency","Currency","volume","Volume","useStyles","theme","green","color","red","CryptoList","setCryptos","lastFetchDate","setLastFetchDate","Date","searchTerm","setSearchTerm","classes","columns","accessor","fetchCryptos","response","get","then","console","log","data","catch","error","setTimeout","filter","toLowerCase","includes","symbol","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useMemo, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CryptoTable1 from './CryptoTable1';\r\nimport Header from './Header';\r\n\r\nfunction daysBetween(from, to) {\r\n  const timeDifference = to.getTime() - from.getTime();\r\n  return timeDifference / (1000 * 3600 * 24);\r\n}\r\nfunction transformCryptos(cryptos) {\r\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.Market_Cap, 0);\r\n  return cryptos.map(crypto => ({\r\n    high: crypto.High || 0,\r\n    low: crypto.Low || 0,\r\n    market_cap: crypto.Market_Cap,\r\n    currency: crypto.Currency,\r\n    volume: crypto.Volume || 0,\r\n\r\n  }));//current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\r\n  //    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\r\n  //price_change_percentage_7d: `${(crypto.price_change_percentage_7d || 0).toFixed(2)}%`,\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  green: {\r\n    color: theme.color.green,\r\n  },\r\n  red: {\r\n    color: theme.color.red,\r\n  },\r\n}));\r\n\r\nconst CryptoList =()=>{\r\n  const [cryptos, setCryptos] = useState([]);\r\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const classes = useStyles();\r\n  \r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header:'Currency',\r\n        accessor: 'Currency', \r\n        \r\n    },{\r\n        Header:'Date',\r\n        accessor: 'Date'\r\n\r\n    },{\r\n        Header:'Open',\r\n        accessor: 'Open'\r\n\r\n    },{\r\n        Header:'High',\r\n        accessor: 'High'\r\n\r\n    },{\r\n        Header:'Low',\r\n        accessor: 'Low'\r\n\r\n    },{\r\n        Header:'Close',\r\n        accessor: 'Close'\r\n\r\n    },{\r\n        Header:'Volume',\r\n        accessor: 'Volume'\r\n\r\n    },{\r\n        Header:'Market_Cap',\r\n        accessor: 'Market_Cap',\r\n        \r\n    },\r\n    ],\r\n  );\r\n\r\n  \r\n  const fetchCryptos = async () => {\r\n    const response = await axios.get('http://localhost:5000/crypto/')\r\n      .then(response =>{\r\n          console.log(response.data)\r\n      })\r\n      .catch((error)=>{\r\n          console.log(error);\r\n      });\r\n    \r\n    setCryptos(transformCryptos(response));\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchCryptos();\r\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\r\n  }, [lastFetchDate])\r\n\r\n\r\n  return(\r\n    <Fragment>\r\n    <Header text=\"Crypto Prices Dashboard\" setSearchTerm={setSearchTerm} />\r\n    <CryptoTable1 columns={columns} data={\r\n      searchTerm\r\n        ? cryptos.filter(crypto => (\r\n          crypto.currency.toLowerCase().includes(searchTerm.toLowerCase())\r\n            || crypto.symbol.includes(searchTerm.toUpperCase())\r\n        ))\r\n        : cryptos\r\n    } />\r\n  </Fragment>\r\n  )\r\n}\r\n\r\n\r\nexport default CryptoList;"]},"metadata":{},"sourceType":"module"}