{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Hin Wai\\\\my-app\\\\src\\\\components\\\\crypto_list.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction daysBetween(from, to) {\n  const timeDifference = to.getTime() - from.getTime();\n  return timeDifference / (1000 * 3600 * 24);\n}\n\nfunction transformCryptos(cryptos) {\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.Market_Cap, 0);\n  return cryptos.map(crypto => ({\n    high: crypto.High || 0,\n    low: crypto.Low || 0,\n    market_cap: crypto.Market_Cap,\n    currency: crypto.Currency,\n    volume: crypto.Volume || 0\n  })); //current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\n  //    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\n  //price_change_percentage_7d: `${(crypto.price_change_percentage_7d || 0).toFixed(2)}%`,\n}\n\nconst useStyles = makeStyles(theme => ({\n  green: {\n    color: theme.color.green\n  },\n  red: {\n    color: theme.color.red\n  }\n}));\n\nconst CryptoList = () => {\n  _s();\n\n  const [cryptos, setCryptos] = useState([]);\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\n  const [searchTerm, setSearchTerm] = useState('');\n  const classes = useStyles();\n  const columns = useMemo(() => [{\n    Header: 'Currency',\n    accessor: 'Currency'\n  }, {\n    Header: 'Date',\n    accessor: 'Date'\n  }, {\n    Header: 'Open',\n    accessor: 'Open'\n  }, {\n    Header: 'High',\n    accessor: 'High'\n  }, {\n    Header: 'Low',\n    accessor: 'Low'\n  }, {\n    Header: 'Close',\n    accessor: 'Close'\n  }, {\n    Header: 'Volume',\n    accessor: 'Volume'\n  }, {\n    Header: 'Market_Cap',\n    accessor: 'Market_Cap'\n  }]);\n\n  const fetchCryptos = async () => {\n    const response = await axios.get('http://localhost:5000/crypto/').then(response => {\n      this.setState({\n        cryptos: response.data\n      });\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n    setCryptos(transformCryptos(response));\n  };\n\n  useEffect(() => {\n    fetchCryptos();\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\n  }, [lastFetchDate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Crypto Currency Historial\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"thead-light\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Currency\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Volume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Market Cap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 7\n  }, this);\n};\n\n_s(CryptoList, \"UdgTqtcvut1iO7E+Z35zTmDAJe4=\", false, function () {\n  return [useStyles];\n});\n\n_c = CryptoList;\nexport default CryptoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CryptoList\");","map":{"version":3,"sources":["C:/Users/Hin Wai/my-app/src/components/crypto_list.component.js"],"names":["React","Fragment","useEffect","useMemo","useState","axios","makeStyles","daysBetween","from","to","timeDifference","getTime","transformCryptos","cryptos","totalMarketCap","reduce","total","crypto","Market_Cap","map","high","High","low","Low","market_cap","currency","Currency","volume","Volume","useStyles","theme","green","color","red","CryptoList","setCryptos","lastFetchDate","setLastFetchDate","Date","searchTerm","setSearchTerm","classes","columns","Header","accessor","fetchCryptos","response","get","then","setState","data","console","log","catch","error","setTimeout"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useMemo, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction daysBetween(from, to) {\r\n  const timeDifference = to.getTime() - from.getTime();\r\n  return timeDifference / (1000 * 3600 * 24);\r\n}\r\nfunction transformCryptos(cryptos) {\r\n  const totalMarketCap = cryptos.reduce((total, crypto) => total + crypto.Market_Cap, 0);\r\n  return cryptos.map(crypto => ({\r\n    high: crypto.High || 0,\r\n    low: crypto.Low || 0,\r\n    market_cap: crypto.Market_Cap,\r\n    currency: crypto.Currency,\r\n    volume: crypto.Volume || 0,\r\n\r\n  }));//current_price: `$${parseFloat((crypto.current_price || 0).toFixed(6))}`,\r\n  //    market_cap_percentage: `${((crypto.market_cap / totalMarketCap) * 100).toFixed(2)}%`,\r\n  //price_change_percentage_7d: `${(crypto.price_change_percentage_7d || 0).toFixed(2)}%`,\r\n\r\n\r\n\r\n}\r\nconst useStyles = makeStyles(theme => ({\r\n  green: {\r\n    color: theme.color.green,\r\n  },\r\n  red: {\r\n    color: theme.color.red,\r\n  },\r\n}));\r\n\r\nconst CryptoList =()=>{\r\n  const [cryptos, setCryptos] = useState([]);\r\n  const [lastFetchDate, setLastFetchDate] = useState(new Date());\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const classes = useStyles();\r\n  \r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header:'Currency',\r\n        accessor: 'Currency', \r\n        \r\n    },{\r\n        Header:'Date',\r\n        accessor: 'Date'\r\n\r\n    },{\r\n        Header:'Open',\r\n        accessor: 'Open'\r\n\r\n    },{\r\n        Header:'High',\r\n        accessor: 'High'\r\n\r\n    },{\r\n        Header:'Low',\r\n        accessor: 'Low'\r\n\r\n    },{\r\n        Header:'Close',\r\n        accessor: 'Close'\r\n\r\n    },{\r\n        Header:'Volume',\r\n        accessor: 'Volume'\r\n\r\n    },{\r\n        Header:'Market_Cap',\r\n        accessor: 'Market_Cap',\r\n        \r\n    },\r\n    ],\r\n  );\r\n\r\n  \r\n  const fetchCryptos = async () => {\r\n    const response = await axios.get('http://localhost:5000/crypto/')\r\n      .then(response =>{\r\n          this.setState({ cryptos: response.data})\r\n          console.log(response.data)\r\n      })\r\n      .catch((error)=>{\r\n          console.log(error);\r\n      });\r\n    \r\n    setCryptos(transformCryptos(response));\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchCryptos();\r\n    setTimeout(() => setLastFetchDate(new Date()), 60E3);\r\n  }, [lastFetchDate])\r\n\r\n\r\n  return(\r\n      <div>\r\n          <h2>Crypto Currency Historial</h2>\r\n          <table className=\"table\">\r\n              <thead className=\"thead-light\">\r\n                  <tr>\r\n                      <th>Currency</th>\r\n                      <th>Date</th>\r\n                      <th>Open</th>\r\n                      <th>High</th>\r\n                      <th>Low</th>\r\n                      <th>Volume</th>\r\n                      <th>Market Cap</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  \r\n              </tbody>\r\n          </table>\r\n      </div>\r\n  )\r\n}\r\n\r\n\r\nexport default CryptoList;"]},"metadata":{},"sourceType":"module"}